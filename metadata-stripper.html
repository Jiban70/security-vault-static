<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Metadata Stripper - 100% Private & Secure Online Tool. Remove GPS/EXIF from images entirely in your browser. No data is ever sent to a server.">
    <title>Metadata Stripper - 100% Private & Secure Online Tool</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --neon-green: #39FF14;
            --dark-bg: #0a0a0a;
            --darker-bg: #050505;
        }
        body {
            background-color: var(--dark-bg);
            color: #e0e0e0;
            font-family: 'Courier New', Courier, monospace;
            min-height: 100vh;
        }
        #top-sponsor {
            width: 100%;
            max-width: 728px;
            height: 90px;
            margin: 20px auto;
            border: 2px solid var(--neon-green);
            background: var(--darker-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--neon-green);
            font-size: 14px;
            text-align: center;
            box-shadow: 0 0 20px rgba(57, 255, 20, 0.3);
        }
        @media (max-width: 728px) { #top-sponsor { height: 50px; font-size: 12px; } }
        header {
            text-align: center;
            padding: 30px 20px;
            border-bottom: 1px solid rgba(57, 255, 20, 0.2);
        }
        .logo { font-size: 2rem; color: var(--neon-green); text-decoration: none; }
        h1 { color: var(--neon-green); margin-top: 10px; }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 30px;
        }
        @media (max-width: 1024px) {
            .container { grid-template-columns: 1fr; }
            #side-sponsor { display: none; }
        }
        .main-tool {
            background: var(--darker-bg);
            border: 1px solid rgba(57, 255, 20, 0.3);
            padding: 30px;
            border-radius: 8px;
        }
        .drop-zone {
            border: 2px dashed #444;
            border-radius: 8px;
            padding: 40px 20px;
            text-align: center;
            background: #111;
            transition: all 0.3s;
            cursor: pointer;
            margin-bottom: 20px;
        }
        .drop-zone:hover {
            border-color: var(--neon-green);
            background: rgba(57, 255, 20, 0.05);
        }
        input[type="file"] { display: none; }
        .preview-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        @media (max-width: 768px) { .preview-container { grid-template-columns: 1fr; } }
        .preview-box {
            background: #111;
            border: 1px solid #333;
            padding: 15px;
            border-radius: 4px;
        }
        .preview-box h3 {
            color: var(--neon-green);
            margin-bottom: 10px;
            font-size: 14px;
        }
        .preview-box img {
            max-width: 100%;
            max-height: 300px;
            border: 1px solid #333;
        }
        .metadata-info {
            margin-top: 10px;
            padding: 10px;
            background: #0a0a0a;
            border-radius: 4px;
            font-size: 12px;
            max-height: 150px;
            overflow-y: auto;
        }
        .metadata-item {
            margin-bottom: 5px;
            padding: 3px 0;
            border-bottom: 1px solid #222;
        }
        .metadata-label { color: #888; }
        .metadata-value { color: var(--neon-green); }
        button {
            padding: 15px 30px;
            background: transparent;
            border: 2px solid var(--neon-green);
            color: var(--neon-green);
            font-family: inherit;
            font-size: 16px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s;
            margin-top: 20px;
            width: 100%;
        }
        button:hover {
            background: var(--neon-green);
            color: #000;
            box-shadow: 0 0 30px rgba(57, 255, 20, 0.4);
        }
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .warning {
            background: rgba(255, 170, 0, 0.1);
            border: 1px solid #ffaa00;
            padding: 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            color: #ffaa00;
        }
        #side-sponsor {
            width: 300px;
            height: 250px;
            border: 2px solid var(--neon-green);
            background: var(--darker-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--neon-green);
            font-size: 14px;
            text-align: center;
            box-shadow: 0 0 20px rgba(57, 255, 20, 0.3);
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }
        .stat-box {
            background: #111;
            padding: 10px;
            text-align: center;
            border-radius: 4px;
        }
        .stat-value { color: var(--neon-green); font-size: 18px; font-weight: bold; }
        .stat-label { color: #666; font-size: 11px; margin-top: 5px; }
    </style>
</head>
<body>
    <div id="top-sponsor">
        <div>
            <div style="font-weight: bold; margin-bottom: 5px;">SPONSOR THIS TOOL</div>
            <div style="font-size: 12px; opacity: 0.8;">Reach 10M Privacy Users</div>
            <div style="font-size: 11px; margin-top: 5px;">Contact: sponsor.me.website@gmail.com</div>
        </div>
    </div>

    <header>
        <a href="index.html" class="logo">‚ö° SECURITY VAULT</a>
        <h1>Metadata Stripper</h1>
        <p style="color: #888; margin-top: 10px;">Remove GPS coordinates, EXIF data, and identifying information</p>
    </header>

    <div class="container">
        <main class="main-tool">
            <div class="warning">
                ‚ö†Ô∏è <strong>Privacy Warning:</strong> Photos often contain GPS coordinates, camera model, date taken, and other identifying metadata. Strip this data before sharing online.
            </div>

            <div class="drop-zone" onclick="document.getElementById('fileInput').click()">
                <div style="font-size: 48px; margin-bottom: 15px;">üñºÔ∏è</div>
                <p>Click to select image or drag and drop</p>
                <p style="color: #666; font-size: 12px; margin-top: 10px;">Supports: JPG, PNG, TIFF, WebP</p>
            </div>
            <input type="file" id="fileInput" accept="image/*" onchange="handleImage(event)">

            <div class="preview-container" id="previewContainer" style="display: none;">
                <div class="preview-box">
                    <h3>üìä Original Metadata</h3>
                    <img id="originalPreview" alt="Original">
                    <div class="metadata-info" id="originalMetadata">
                        <p style="color: #666;">No metadata detected</p>
                    </div>
                </div>
                <div class="preview-box">
                    <h3>‚ú® Clean Image</h3>
                    <img id="cleanPreview" alt="Clean">
                    <div class="metadata-info" id="cleanMetadata">
                        <p style="color: var(--neon-green);">‚úì All metadata removed</p>
                    </div>
                </div>
            </div>

            <div class="stats" id="stats" style="display: none;">
                <div class="stat-box">
                    <div class="stat-value" id="originalSize">-</div>
                    <div class="stat-label">Original Size</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="cleanSize">-</div>
                    <div class="stat-label">Clean Size</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="reduction">-</div>
                    <div class="stat-label">Data Removed</div>
                </div>
            </div>

            <button id="downloadBtn" onclick="downloadCleanImage()" style="display: none;">
                üíæ Download Clean Image
            </button>
        </main>

        <aside>
            <div id="side-sponsor">
                <div>
                    <div style="font-weight: bold; margin-bottom: 10px; font-size: 16px;">SPONSOR SPACE</div>
                    <div style="font-size: 13px; opacity: 0.9;">300x250 Premium Slot</div>
                    <div style="font-size: 12px; margin-top: 10px;">sponsor.me.website@gmail.com</div>
                </div>
            </div>
        </aside>
    </div>

    <script>
        let cleanImageData = null;
        let originalFileName = '';

        function handleImage(event) {
            const file = event.target.files[0];
            if (!file) return;

            originalFileName = file.name;
            const reader = new FileReader();

            reader.onload = function(e) {
                const img = new Image();
                img.onload = function() {
                    displayOriginal(img, file);
                    createCleanImage(img, file.type);
                };
                img.src = e.target.result;
            };

            reader.readAsDataURL(file);
        }

        function displayOriginal(img, file) {
            document.getElementById('originalPreview').src = img.src;
            document.getElementById('previewContainer').style.display = 'grid';
            
            // Display file info
            const metadataDiv = document.getElementById('originalMetadata');
            metadataDiv.innerHTML = `
                <div class="metadata-item">
                    <span class="metadata-label">Filename:</span>
                    <span class="metadata-value">${file.name}</span>
                </div>
                <div class="metadata-item">
                    <span class="metadata-label">Size:</span>
                    <span class="metadata-value">${formatBytes(file.size)}</span>
                </div>
                <div class="metadata-item">
                    <span class="metadata-label">Type:</span>
                    <span class="metadata-value">${file.type}</span>
                </div>
                <div class="metadata-item">
                    <span class="metadata-label">Dimensions:</span>
                    <span class="metadata-value">${img.width} √ó ${img.height}</span>
                </div>
            `;

            document.getElementById('originalSize').textContent = formatBytes(file.size);
            document.getElementById('stats').style.display = 'grid';
        }

        function createCleanImage(img, mimeType) {
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            canvas.width = img.width;
            canvas.height = img.height;
            
            // Draw image without metadata
            ctx.drawImage(img, 0, 0);
            
            // Convert to data URL with specified quality
            const quality = mimeType === 'image/png' ? undefined : 0.92;
            cleanImageData = canvas.toDataURL(mimeType, quality);
            
            document.getElementById('cleanPreview').src = cleanImageData;
            
            // Calculate size reduction
            const originalSize = Math.round(atob(document.getElementById('originalPreview').src.split(',')[1]).length);
            const cleanSize = Math.round(atob(cleanImageData.split(',')[1]).length);
            const reduction = ((originalSize - cleanSize) / originalSize * 100).toFixed(1);
            
            document.getElementById('cleanSize').textContent = formatBytes(cleanSize);
            document.getElementById('reduction').textContent = reduction + '%';
            
            document.getElementById('downloadBtn').style.display = 'block';
        }

        function downloadCleanImage() {
            if (!cleanImageData) return;
            
            const link = document.createElement('a');
            link.download = 'clean_' + originalFileName;
            link.href = cleanImageData;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function formatBytes(bytes) {
            if (bytes === 0) return '0 B';
            const k = 1024;
            const sizes = ['B', 'KB', 'MB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // Drag and drop support
        const dropZone = document.querySelector('.drop-zone');
        
        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.style.borderColor = '#39FF14';
        });
        
        dropZone.addEventListener('dragleave', () => {
            dropZone.style.borderColor = '#444';
        });
        
        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.style.borderColor = '#444';
            const files = e.dataTransfer.files;
            if (files.length > 0 && files[0].type.startsWith('image/')) {
                const input = document.getElementById('fileInput');
                const dt = new DataTransfer();
                dt.items.add(files[0]);
                input.files = dt.files;
                handleImage({ target: input });
            }
        });

        console.log('%cüñºÔ∏è Metadata Stripper Loaded', 'color: #39FF14;');
        console.log('%cCanvas-based metadata removal', 'color: #39FF14;');
    </script>
</body>
</html>
